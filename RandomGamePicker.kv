#:import Factory kivy.factory.Factory

<Button>
	background_normal: ''
	background_color: (0.25, 0, 0.5, 1)
    color: 1, 1, 1, 0.5

<GameRandomPickerLayout>
	canvas.before:
		Rectangle:
			pos: self.pos
			size: self.size
			source: 'images/bg.png'

	BoxLayout:
		orientation: "vertical"
		size: root.width, root.height
		spacing: 15
		padding: (5, 5, 5, 5)

		Label:
            # HEADER OF THE APP
			text: "[color=#8a00ff]GOG GALAXY[/color] RANDOM GAME PICKER"
			font_name: root.font_latothin
			font_size: root.element_sizes["header_fontsize"]
            size_hint: (1.0, 0.15)
			valign: "top"
			halign: "center"
			markup: True

		BoxLayout:
		    orientation: "horizontal"
		    spacing: 15

            BoxLayout:
                orientation: "vertical"
                size_hint: (0.45, 1.0)
                padding: (5, 20, 5, 5)
                spacing: 5

                AsyncImage:
                    # GAME COVER
                    id: cover_image
                    source: root.picked_game_cover
                    size_hint: (1.0, 0.8)
                    halign: 'center'
                    valign: 'center'

                Button:
                    # VIEW GAME IN GOG button
                    id: open_button
                    background_color: (0.54, 0, 1, .25)
                    text: "VIEW GAME IN GOG GALAXY"
                    font_name: root.font_latoreg
                    font_size: root.element_sizes["view_button_fontsize"]
                    size_hint: (1.0, 0.1)
                    halign: 'center'
                    valign: 'center'
                    on_release: root.view_button_pressed()

            BoxLayout:
		        orientation: "vertical"
		        padding: (15, 15, 15, 15)

                BoxLayout:
                    orientation: "vertical"
                    spacing: 5

                    Label:
                        # pre title text
                        id: title_text
                        text: "GAME TITLE:"
                        font_name: root.font_latoreg
                        halign: "left"
                        valign: "middle"
                        text_size: self.size
                        color: 1, 1, 1, 0.25

                    Label:
                        # PICKED GAME TITLE
                        id: game_title
                        text: root.picked_game_title
                        font_size: 24
                        halign: "left"
                        valign: "middle"
                        text_size: self.size
                        color: 1, 1, 1, 1

                    Label:
                        id: game_score
                        text: root.picked_game_title
                        font_size: 20
                        halign: "left"
                        valign: "middle"
                        text_size: self.size
                        color: 0.88, 0.88, 0.88, 0.7

                    Label:
                        id: game_genres
                        text: root.picked_game_title
                        font_size: 14
                        halign: "left"
                        valign: "middle"
                        text_size: self.size
                        color: 1.0, 1.0, 1.0, 0.7

                    Label:
                        id: game_themes
                        text: root.picked_game_title
                        font_size: 14
                        halign: "left"
                        valign: "middle"
                        text_size: self.size
                        color: 1.0, 1.0, 1.0, 0.7

                    Label:
                        id: game_tags
                        text: root.picked_game_title
                        font_size: 14
                        halign: "left"
                        valign: "middle"
                        text_size: self.size
                        color: 1.0, 1.0, 1.0, 0.7

                Widget:

                BoxLayout:
                    id: drop_down_container
                    spacing: 5
		            orientation: "vertical"

		            BoxLayout:
		                Label:
                            text: 'Exclude Tags:'
                            font_size: 14
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            color: 1.0, 1.0, 1.0, 0.7

                        Button:
                            id: exclude_tags_dropdown
                            text: 'None'

		            BoxLayout:
		                Label:
                            text: 'Include Tags:'
                            font_size: 14
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            color: 1.0, 1.0, 1.0, 0.7

                        Button:
                            id: include_tags_dropdown
                            text: 'None'

		            BoxLayout:
		                Label:
                            text: 'Excluded Genres:'
                            font_size: 14
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            color: 1.0, 1.0, 1.0, 0.7

                        Button:
                            id: exclude_genres_dropdown
                            text: 'None'

		            BoxLayout:
		                Label:
                            text: 'Include Genres:'
                            font_size: 14
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            color: 1.0, 1.0, 1.0, 0.7

                        Button:
                            id: include_genres_dropdown
                            text: 'None'

		            BoxLayout:
		                Label:
                            text: 'Exclude Themes:'
                            font_size: 14
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            color: 1.0, 1.0, 1.0, 0.7

                        Button:
                            id: exclude_themes_dropdown
                            text: 'None'

		            BoxLayout:
		                Label:
                            text: 'Include Themes:'
                            font_size: 14
                            halign: "left"
                            valign: "middle"
                            text_size: self.size
                            color: 1.0, 1.0, 1.0, 0.7

                        Button:
                            id: include_themes_dropdown
                            text: 'None'

                    Button:
                        text: 'Clear Filters'
                        on_release: root.clear_filters_button_pressed()

		        BoxLayout:
		            orientation: "horizontal"

                    CheckBox:
                        active: root.include_hidden_games
                        on_active: root.hidden_checkbox(self, self.active)

                    Label:
                        id: hidden_text
                        text: "INCLUDE HIDDEN GAMES"
                        font_name: root.font_latoreg
                        halign: "left"
                        valign: "middle"
                        size: self.size
                        color: 1, 1, 1, 0.35

                Button:
                # PICK A GAME button
                    id: pick_button
                    background_color: (0.54, 0, 1, .25)
                    text: "PICK A RANDOM GAME"
                    font_name: root.font_latoreg
                    font_size: root.element_sizes["pick_button_fontsize"]
                    height: 75
                    size_hint: (1.0, None)
                    on_release: root.pick_button_pressed()

                Button:
                    # PICK NEXT GAME button
                    id: pick_next_game_button
                    background_color: (0.54, 0, 1, .25)
                    text: "PICK NEXT GAME"
                    font_name: root.font_latoreg
                    font_size: root.element_sizes["pick_button_fontsize"]
                    height: 75
                    size_hint: (1.0, None)
                    on_release: root.pick_next_game_button_pressed()

        BoxLayout:
            orientation: "horizontal"
            size_hint: (1.0, 0.15)
